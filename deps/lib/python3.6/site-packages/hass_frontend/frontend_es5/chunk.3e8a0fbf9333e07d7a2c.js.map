{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-item/paper-item-behavior.js","webpack:///./node_modules/@polymer/paper-item/paper-item.js","webpack:///./node_modules/@polymer/paper-item/paper-item-shared-styles.js","webpack:///./src/mixins/localize-mixin.js","webpack:///./src/components/ha-icon.ts","webpack:///./node_modules/@polymer/paper-item/paper-item-body.js","webpack:///./src/panels/config/ha-config-section.js","webpack:///./node_modules/fecha/src/fecha.js","webpack:///./src/common/datetime/format_date_time.ts","webpack:///./src/mixins/navigate-mixin.js","webpack:///./src/components/ha-icon-next.ts","webpack:///./src/components/buttons/ha-call-api-button.js","webpack:///./src/data/alexa.ts","webpack:///./src/panels/config/cloud/account/cloud-webhooks.ts","webpack:///./src/panels/config/cloud/dialog-manage-cloudhook/show-dialog-manage-cloudhook.ts","webpack:///./src/data/webhook.ts","webpack:///./src/panels/config/cloud/account/cloud-alexa-pref.ts","webpack:///./src/panels/config/cloud/account/cloud-google-pref.ts","webpack:///./src/panels/config/cloud/account/cloud-remote-pref.ts","webpack:///./src/panels/config/cloud/dialog-cloud-certificate/show-dialog-cloud-certificate.ts","webpack:///./src/panels/config/cloud/account/cloud-account.js","webpack:///./src/panels/config/cloud/login/cloud-login.js","webpack:///./src/panels/config/cloud/ha-config-cloud.ts"],"names":["__webpack_require__","d","__webpack_exports__","PaperItemBehavior","_polymer_iron_behaviors_iron_button_state_js__WEBPACK_IMPORTED_MODULE_1__","_polymer_iron_behaviors_iron_control_state_js__WEBPACK_IMPORTED_MODULE_2__","IronButtonState","IronControlState","hostAttributes","role","tabindex","Polymer","_template","html","_templateObject","is","behaviors","$_documentContainer","document","createElement","setAttribute","innerHTML","head","appendChild","content","dedupingMixin","superClass","_superClass","_class","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","apply","arguments","_inherits","key","get","hass","Object","localize","type","Function","computed","value","ironIconClass","customElements","loaded","HaIcon","_ironIconClass","_getPrototypeOf2","_this","_len","length","args","Array","_key","call","concat","_iconsetName","node","eventName","methodName","_get","prototype","e","then","bind","define","HaConfigSection","PolymerElement","narrow","Boolean","isWide","classes","fecha","token","word","literal","noop","shorten","arr","sLen","newArr","i","len","push","substr","monthUpdate","arrName","v","i18n","index","indexOf","charAt","toUpperCase","toLowerCase","month","pad","val","String","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","D","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","h","getHours","hh","H","HH","m","getMinutes","mm","s","getSeconds","ss","S","Math","round","getMilliseconds","SS","SSS","a","A","ZZ","o","getTimezoneOffset","floor","abs","parseFlags","day","parseInt","cent","Date","year","hour","minute","second","millisecond","isPm","minutes","parts","match","timezoneOffset","masks","default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","format","mask","i18nSettings","toString","isNaN","getTime","Error","literals","replace","$0","$1","slice","shift","parse","dateStr","str","dateInfo","parseInfo","newFormat","info","matches","RegExp","date","today","UTC","fecha__WEBPACK_IMPORTED_MODULE_0__","toLocaleStringSupportsOptions","toLocaleString","name","locales","navigate","HaIconNext","_HaIcon","setTimeout","icon","window","getComputedStyle","direction","HaCallApiButton","method","data","disabled","progress","LitElement","_buttonTapped","eventData","path","callApi","resp","progressButton","actionSuccess","success","response","actionError","_context","t0","fireEvent","renderRoot","querySelector","fetchCloudAlexaEntities","syncCloudAlexaEntities","callWS","CloudWebhooks","_LitElement","cloudStatus","_cloudHooks","_localHooks","_progress","_createClass","_fetchData","renderStyle","_renderBody","changedProps","has","prefs","cloudhooks","_this2","_templateObject3","map","entry","_templateObject4","domain","webhook_id","includes","_templateObject5","_templateObject6","_handleManageButton","_templateObject7","_enableWebhook","_templateObject2","webhookId","element","webhookDialogParams","_this3","webhook","find","ent","cloudhook","disableHook","_disableWebhook","dialogTag","dialogImport","Promise","all","dialogParams","ev","currentTarget","parentElement","_showDialog","_enableWebhook2","_asyncToGenerator","regeneratorRuntime","mark","_callee","updatedWebhook","wrap","prev","next","_toConsumableArray","createCloudhook","sent","alert","message","abrupt","filter","wid","finish","assign","stop","_x","_disableWebhook2","_callee2","_ref","newHooks","_context2","deleteCloudhook","_objectWithoutProperties","_toPropertyKey","_x2","_fetchData2","_callee3","_context3","config","components","_templateObject8","CloudAlexaPref","_decorate","_initialize","F","_LitElement2","cloud_alexa_pref_classCallCheck","cloud_alexa_pref_getPrototypeOf","cloud_alexa_pref_assertThisInitialized","cloud_alexa_pref_inherits","kind","decorators","property","cloud_alexa_pref_templateObject","_prefs","alexa_enabled","alexa_report_state","cloud_alexa_pref_templateObject2","_enabledToggleChanged","cloud_alexa_pref_templateObject3","_reportToggleChanged","_handleSync","_syncing","_handleSync2","cloud_alexa_pref_asyncToGenerator","body","_enabledToggleChanged2","toggle","target","updateCloudPref","checked","_reportToggleChanged2","static","css","cloud_alexa_pref_templateObject4","CloudGooglePref","cloud_google_pref_classCallCheck","cloud_google_pref_possibleConstructorReturn","cloud_google_pref_getPrototypeOf","cloud_google_pref_inherits","cloud_google_pref_templateObject","_this$cloudStatus$pre","google_enabled","google_secure_devices_pin","cloud_google_pref_templateObject2","_toggleChanged","cloud_google_pref_templateObject3","_pinChanged","_toggleChanged2","cloud_google_pref_asyncToGenerator","cloud_google_pref_defineProperty","id","_pinChanged2","input","cloud_google_pref_templateObject4","cloud_remote_pref_decorate","customElement","CloudRemotePref","cloud_remote_pref_classCallCheck","cloud_remote_pref_getPrototypeOf","cloud_remote_pref_assertThisInitialized","cloud_remote_pref_inherits","cloud_remote_pref_templateObject","_this$cloudStatus","remote_connected","remote_domain","remote_certificate","cloud_remote_pref_templateObject3","cloud_remote_pref_templateObject4","_openCertInfo","cloud_remote_pref_templateObject2","certificateInfo","connectCloudRemote","disconnectCloudRemote","cloud_remote_pref_templateObject5","CloudAccount","EventsMixin","LocalizeMixin","cloud_account_get","cloud_account_getPrototypeOf","_fetchSubscriptionInfo","connected","fetchCloudSubscriptionInfo","_subscription","provider","cloud","fire","subInfo","description","human_description","plan_renewal_date","formatDateTime","language","cloud_account_templateObject","CloudLogin","NavigateMixin","cloud_login_templateObject","email","notify","_password","_requestInProgress","flashMessage","_error","cloud_login_get","cloud_login_getPrototypeOf","requestAnimationFrame","$","flashRipple","simulatedRipple","invalid","password","keyCode","_handleLogin","preventDefault","focus","setProperties","err","errCode","code","props","LOGGED_IN_URLS","NOT_LOGGED_IN_URLS","HaConfigCloud","defaultPage","showLoading","initialLoad","_cloudStatusLoaded","beforeRender","page","logged_in","routes","login","tag","register","load","forgot-password","account","google-assistant","alexa","resolve","_resolveCloudStatusLoaded","_this4","ha_config_cloud_get","ha_config_cloud_getPrototypeOf","addEventListener","_flashMessage","detail","oldStatus","undefined","route","prefix","_this5","el","_loginEmail","_currentPage","HassRouterPage"],"mappings":"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","file":"chunk.3e8a0fbf9333e07d7a2c.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {IronButtonState} from '@polymer/iron-behaviors/iron-button-state.js';\nimport {IronControlState} from '@polymer/iron-behaviors/iron-control-state.js';\n\n/*\n`PaperItemBehavior` is a convenience behavior shared by <paper-item> and\n<paper-icon-item> that manages the shared control states and attributes of\nthe items.\n*/\n/** @polymerBehavior PaperItemBehavior */\nexport const PaperItemBehaviorImpl = {\n  hostAttributes: {role: 'option', tabindex: '0'}\n};\n\n/** @polymerBehavior */\nexport const PaperItemBehavior =\n    [IronButtonState, IronControlState, PaperItemBehaviorImpl];\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport './paper-item-shared-styles.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\nimport {PaperItemBehavior} from './paper-item-behavior.js';\n\n/**\nMaterial design:\n[Lists](https://www.google.com/design/spec/components/lists.html)\n\n`<paper-item>` is an interactive list item. By default, it is a horizontal\nflexbox.\n\n    <paper-item>Item</paper-item>\n\nUse this element with `<paper-item-body>` to make Material Design styled\ntwo-line and three-line items.\n\n    <paper-item>\n      <paper-item-body two-line>\n        <div>Show your status</div>\n        <div secondary>Your status is visible to everyone</div>\n      </paper-item-body>\n      <iron-icon icon=\"warning\"></iron-icon>\n    </paper-item>\n\nTo use `paper-item` as a link, wrap it in an anchor tag. Since `paper-item` will\nalready receive focus, you may want to prevent the anchor tag from receiving\nfocus as well by setting its tabindex to -1.\n\n    <a href=\"https://www.polymer-project.org/\" tabindex=\"-1\">\n      <paper-item raised>Polymer Project</paper-item>\n    </a>\n\nIf you are concerned about performance and want to use `paper-item` in a\n`paper-listbox` with many items, you can just use a native `button` with the\n`paper-item` class applied (provided you have correctly included the shared\nstyles):\n\n    <style is=\"custom-style\" include=\"paper-item-shared-styles\"></style>\n\n    <paper-listbox>\n      <button class=\"paper-item\" role=\"option\">Inbox</button>\n      <button class=\"paper-item\" role=\"option\">Starred</button>\n      <button class=\"paper-item\" role=\"option\">Sent mail</button>\n    </paper-listbox>\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-min-height` | Minimum height of the item | `48px`\n`--paper-item` | Mixin applied to the item | `{}`\n`--paper-item-selected-weight` | The font weight of a selected item | `bold`\n`--paper-item-selected` | Mixin applied to selected paper-items | `{}`\n`--paper-item-disabled-color` | The color for disabled paper-items | `--disabled-text-color`\n`--paper-item-disabled` | Mixin applied to disabled paper-items | `{}`\n`--paper-item-focused` | Mixin applied to focused paper-items | `{}`\n`--paper-item-focused-before` | Mixin applied to :before focused paper-items | `{}`\n\n### Accessibility\n\nThis element has `role=\"listitem\"` by default. Depending on usage, it may be\nmore appropriate to set `role=\"menuitem\"`, `role=\"menuitemcheckbox\"` or\n`role=\"menuitemradio\"`.\n\n    <paper-item role=\"menuitemcheckbox\">\n      <paper-item-body>\n        Show your status\n      </paper-item-body>\n      <paper-checkbox></paper-checkbox>\n    </paper-item>\n\n@group Paper Elements\n@element paper-item\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style include=\"paper-item-shared-styles\">\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n      }\n    </style>\n    <slot></slot>\n`,\n\n  is: 'paper-item',\n  behaviors: [PaperItemBehavior]\n});\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/color.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nconst $_documentContainer = document.createElement('template');\n$_documentContainer.setAttribute('style', 'display: none;');\n\n$_documentContainer.innerHTML = `<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>`;\n\ndocument.head.appendChild($_documentContainer.content);\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import { Constructor } from \"lit-element\";\nimport \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { IronIconElement } from \"@polymer/iron-icon/iron-icon\";\n\nconst ironIconClass = customElements.get(\"iron-icon\") as Constructor<\n  IronIconElement\n>;\n\nlet loaded = false;\n\nexport class HaIcon extends ironIconClass {\n  private _iconsetName?: string;\n\n  public listen(\n    node: EventTarget | null,\n    eventName: string,\n    methodName: string\n  ): void {\n    super.listen(node, eventName, methodName);\n\n    if (!loaded && this._iconsetName === \"mdi\") {\n      loaded = true;\n      import(/* webpackChunkName: \"mdi-icons\" */ \"../resources/mdi-icons\");\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon\": HaIcon;\n  }\n}\n\ncustomElements.define(\"ha-icon\", HaIcon);\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/*\nUse `<paper-item-body>` in a `<paper-item>` or `<paper-icon-item>` to make two-\nor three- line items. It is a flex item that is a vertical flexbox.\n\n    <paper-item>\n      <paper-item-body two-line>\n        <div>Show your status</div>\n        <div secondary>Your status is visible to everyone</div>\n      </paper-item-body>\n    </paper-item>\n\nThe child elements with the `secondary` attribute is given secondary text\nstyling.\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-body-two-line-min-height` | Minimum height of a two-line item | `72px`\n`--paper-item-body-three-line-min-height` | Minimum height of a three-line item | `88px`\n`--paper-item-body-secondary-color` | Foreground color for the `secondary` area | `--secondary-text-color`\n`--paper-item-body-secondary` | Mixin applied to the `secondary` area | `{}`\n\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'paper-item-body'\n});\n","import { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../resources/ha-style\";\n\nclass HaConfigSection extends PolymerElement {\n  static get template() {\n    return html`\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding: 28px 20px 0;\n          max-width: 1040px;\n          margin: 0 auto;\n        }\n\n        .header {\n          @apply --paper-font-display1;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .together {\n          margin-top: 32px;\n        }\n\n        .intro {\n          @apply --paper-font-subhead;\n          width: 100%;\n          max-width: 400px;\n          margin-right: 40px;\n          opacity: var(--dark-primary-opacity);\n        }\n\n        .panel {\n          margin-top: -24px;\n        }\n\n        .panel ::slotted(*) {\n          margin-top: 24px;\n          display: block;\n        }\n\n        .narrow.content {\n          max-width: 640px;\n        }\n        .narrow .together {\n          margin-top: 20px;\n        }\n        .narrow .header {\n          @apply --paper-font-headline;\n        }\n        .narrow .intro {\n          font-size: 14px;\n          padding-bottom: 20px;\n          margin-right: 0;\n          max-width: 500px;\n        }\n      </style>\n      <div class$=\"[[computeContentClasses(isWide)]]\">\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div class$=\"[[computeClasses(isWide)]]\">\n          <div class=\"intro\"><slot name=\"introduction\"></slot></div>\n          <div class=\"panel flex-auto\"><slot></slot></div>\n        </div>\n      </div>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      narrow: {\n        type: Boolean,\n      },\n\n      isWide: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  computeContentClasses(isWide) {\n    var classes = \"content \";\n\n    return isWide ? classes : classes + \"narrow\";\n  }\n\n  computeClasses(isWide) {\n    var classes = \"together layout \";\n\n    return classes + (isWide ? \"horizontal\" : \"vertical narrow\");\n  }\n}\n\ncustomElements.define(\"ha-config-section\", HaConfigSection);\n","/**\n * Parse or format dates\n * @class fecha\n */\nvar fecha = {};\nvar token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = '\\\\d\\\\d?';\nvar threeDigits = '\\\\d{3}';\nvar fourDigits = '\\\\d{4}';\nvar word = '[^\\\\s]+';\nvar literal = /\\[([^]*?)\\]/gm;\nvar noop = function () {\n};\n\nfunction regexEscape(str) {\n  return str.replace( /[|\\\\{()[^$+*?.-]/g, '\\\\$&');\n}\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nfunction monthUpdate(arrName) {\n  return function (d, v, i18n) {\n    var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n    if (~index) {\n      d.month = index;\n    }\n  };\n}\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\nvar dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nfecha.i18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: ['am', 'pm'],\n  DoFn: function DoFn(D) {\n    return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n  }\n};\n\nvar formatFlags = {\n  D: function(dateObj) {\n    return dateObj.getDate();\n  },\n  DD: function(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function(dateObj) {\n    return dateObj.getDay();\n  },\n  dd: function(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function(dateObj) {\n    return dateObj.getMonth() + 1;\n  },\n  MM: function(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function(dateObj) {\n    return dateObj.getHours() % 12 || 12;\n  },\n  hh: function(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function(dateObj) {\n    return dateObj.getHours();\n  },\n  HH: function(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function(dateObj) {\n    return dateObj.getMinutes();\n  },\n  mm: function(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function(dateObj) {\n    return dateObj.getSeconds();\n  },\n  ss: function(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function(dateObj) {\n    return Math.round(dateObj.getMilliseconds() / 100);\n  },\n  SS: function(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function(dateObj) {\n    var o = dateObj.getTimezoneOffset();\n    return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n  }\n};\n\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [twoDigits + word, function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date(), cent = +('' + da.getFullYear()).substr(0, 2);\n    d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: ['\\\\d', function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: ['\\\\d{2}', function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  d: [twoDigits, noop],\n  ddd: [word, noop],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  a: [word, function (d, v, i18n) {\n    var val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      d.isPm = false;\n    } else if (val === i18n.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  ZZ: ['[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z', function (d, v) {\n    var parts = (v + '').match(/([+-]|\\d\\d)/gi), minutes;\n\n    if (parts) {\n      minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.dd = parseFlags.d;\nparseFlags.dddd = parseFlags.ddd;\nparseFlags.DD = parseFlags.D;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.MM = parseFlags.M;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a;\n\n\n// Some common format strings\nfecha.masks = {\n  default: 'ddd MMM DD YYYY HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'HH:mm',\n  mediumTime: 'HH:mm:ss',\n  longTime: 'HH:mm:ss.SSS'\n};\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n */\nfecha.format = function (dateObj, mask, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof dateObj === 'number') {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n    throw new Error('Invalid Date in fecha.format');\n  }\n\n  mask = fecha.masks[mask] || mask || fecha.masks['default'];\n\n  var literals = [];\n\n  // Make literals inactive by replacing them with ??\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return '??';\n  });\n  // Apply formatting rules\n  mask = mask.replace(token, function ($0) {\n    return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n  });\n  // Inline literal values back into the formatted value\n  return mask.replace(/\\?\\?/g, function() {\n    return literals.shift();\n  });\n};\n\n/**\n * Parse a date string into an object, changes - into /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @returns {Date|boolean}\n */\nfecha.parse = function (dateStr, format, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof format !== 'string') {\n    throw new Error('Invalid format in fecha.parse');\n  }\n\n  format = fecha.masks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  var dateInfo = {};\n  var parseInfo = [];\n  var newFormat = regexEscape(format).replace(token, function ($0) {\n    if (parseFlags[$0]) {\n      var info = parseFlags[$0];\n      parseInfo.push(info[1]);\n      return '(' + info[0] + ')';\n    }\n\n    return $0;\n  });\n  var matches = dateStr.match(new RegExp(newFormat, 'i'));\n  if (!matches) {\n    return null;\n  }\n\n  for (var i = 1; i < matches.length; i++) {\n    parseInfo[i - 1](dateInfo, matches[i], i18n);\n  }\n\n  var today = new Date();\n  if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var date;\n  if (dateInfo.timezoneOffset != null) {\n    dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n    date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n  } else {\n    date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n  }\n  return date;\n};\n\nexport default fecha;\n","import fecha from \"fecha\";\n\n// Check for support of native locale string options\nfunction toLocaleStringSupportsOptions() {\n  try {\n    new Date().toLocaleString(\"i\");\n  } catch (e) {\n    return e.name === \"RangeError\";\n  }\n  return false;\n}\n\nexport default (toLocaleStringSupportsOptions()\n  ? (dateObj: Date, locales: string) =>\n      dateObj.toLocaleString(locales, {\n        year: \"numeric\",\n        month: \"long\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"2-digit\",\n      })\n  : (dateObj: Date) => fecha.format(dateObj, \"haDateTime\"));\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\nimport { navigate } from \"../common/navigate\";\n\n/*\n * @polymerMixin\n * @appliesMixin EventsMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      navigate(...args) {\n        navigate(this, ...args);\n      }\n    }\n);\n","import \"@polymer/iron-icon/iron-icon\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { HaIcon } from \"./ha-icon\";\n\nexport class HaIconNext extends HaIcon {\n  public connectedCallback() {\n    super.connectedCallback();\n\n    // wait to check for direction since otherwise direction is wrong even though top level is RTL\n    setTimeout(() => {\n      this.icon =\n        window.getComputedStyle(this).direction === \"ltr\"\n          ? \"hass:chevron-right\"\n          : \"hass:chevron-left\";\n    }, 100);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-icon-next\": HaIconNext;\n  }\n}\n\ncustomElements.define(\"ha-icon-next\", HaIconNext);\n","import { LitElement, html } from \"lit-element\";\n\nimport \"./ha-progress-button\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\n\nclass HaCallApiButton extends LitElement {\n  render() {\n    return html`\n      <ha-progress-button\n        .progress=\"${this.progress}\"\n        @click=\"${this._buttonTapped}\"\n        ?disabled=\"${this.disabled}\"\n        ><slot></slot\n      ></ha-progress-button>\n    `;\n  }\n\n  constructor() {\n    super();\n    this.method = \"POST\";\n    this.data = {};\n    this.disabled = false;\n    this.progress = false;\n  }\n\n  static get properties() {\n    return {\n      hass: {},\n      progress: Boolean,\n      path: String,\n      method: String,\n      data: {},\n      disabled: Boolean,\n    };\n  }\n\n  get progressButton() {\n    return this.renderRoot.querySelector(\"ha-progress-button\");\n  }\n\n  async _buttonTapped() {\n    this.progress = true;\n    const eventData = {\n      method: this.method,\n      path: this.path,\n      data: this.data,\n    };\n\n    try {\n      const resp = await this.hass.callApi(this.method, this.path, this.data);\n      this.progress = false;\n      this.progressButton.actionSuccess();\n      eventData.success = true;\n      eventData.response = resp;\n    } catch (err) {\n      this.progress = false;\n      this.progressButton.actionError();\n      eventData.success = false;\n      eventData.response = err;\n    }\n\n    fireEvent(this, \"hass-api-called\", eventData);\n  }\n}\n\ncustomElements.define(\"ha-call-api-button\", HaCallApiButton);\n","import { HomeAssistant } from \"../types\";\n\nexport interface AlexaEntity {\n  entity_id: string;\n  display_categories: string[];\n  interfaces: string[];\n}\n\nexport const fetchCloudAlexaEntities = (hass: HomeAssistant) =>\n  hass.callWS<AlexaEntity[]>({ type: \"cloud/alexa/entities\" });\n\nexport const syncCloudAlexaEntities = (hass: HomeAssistant) =>\n  hass.callWS({ type: \"cloud/alexa/sync\" });\n","import {\n  html,\n  LitElement,\n  PropertyDeclarations,\n  PropertyValues,\n} from \"lit-element\";\nimport \"@polymer/paper-toggle-button/paper-toggle-button\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@polymer/paper-spinner/paper-spinner\";\nimport \"../../../../components/ha-card\";\n\nimport { HomeAssistant, WebhookError } from \"../../../../types\";\nimport { Webhook, fetchWebhooks } from \"../../../../data/webhook\";\nimport {\n  createCloudhook,\n  deleteCloudhook,\n  CloudWebhook,\n  CloudStatusLoggedIn,\n} from \"../../../../data/cloud\";\nimport { showManageCloudhookDialog } from \"../dialog-manage-cloudhook/show-dialog-manage-cloudhook\";\n\nexport class CloudWebhooks extends LitElement {\n  public hass?: HomeAssistant;\n  public cloudStatus?: CloudStatusLoggedIn;\n  private _cloudHooks?: { [webhookId: string]: CloudWebhook };\n  private _localHooks?: Webhook[];\n  private _progress: string[];\n\n  static get properties(): PropertyDeclarations {\n    return {\n      hass: {},\n      cloudStatus: {},\n      _cloudHooks: {},\n      _localHooks: {},\n      _progress: {},\n    };\n  }\n\n  constructor() {\n    super();\n    this._progress = [];\n  }\n\n  public connectedCallback() {\n    super.connectedCallback();\n    this._fetchData();\n  }\n\n  protected render() {\n    return html`\n      ${this.renderStyle()}\n      <ha-card header=\"Webhooks\">\n        <div class=\"card-content\">\n          Anything that is configured to be triggered by a webhook can be given\n          a publicly accessible URL to allow you to send data back to Home\n          Assistant from anywhere, without exposing your instance to the\n          internet. ${this._renderBody()}\n\n          <div class=\"footer\">\n            <a href=\"https://www.nabucasa.com/config/webhooks\" target=\"_blank\">\n              Learn more about creating webhook-powered automations.\n            </a>\n          </div>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  protected updated(changedProps: PropertyValues) {\n    super.updated(changedProps);\n    if (changedProps.has(\"cloudStatus\") && this.cloudStatus) {\n      this._cloudHooks = this.cloudStatus.prefs.cloudhooks || {};\n    }\n  }\n\n  private _renderBody() {\n    if (!this.cloudStatus || !this._localHooks || !this._cloudHooks) {\n      return html`\n        <div class=\"body-text\">Loading…</div>\n      `;\n    }\n\n    if (this._localHooks.length === 0) {\n      return html`\n        <div class=\"body-text\">\n          Looks like you have no webhooks yet. Get started by configuring a\n          <a href=\"/config/integrations\">webhook-based integration</a> or by\n          creating a <a href=\"/config/automation/new\">webhook automation</a>.\n        </div>\n      `;\n    }\n\n    return this._localHooks.map(\n      (entry) => html`\n        <div class=\"webhook\" .entry=\"${entry}\">\n          <paper-item-body two-line>\n            <div>\n              ${entry.name}\n              ${entry.domain === entry.name.toLowerCase()\n                ? \"\"\n                : ` (${entry.domain})`}\n            </div>\n            <div secondary>${entry.webhook_id}</div>\n          </paper-item-body>\n          ${this._progress.includes(entry.webhook_id)\n            ? html`\n                <div class=\"progress\">\n                  <paper-spinner active></paper-spinner>\n                </div>\n              `\n            : this._cloudHooks![entry.webhook_id]\n            ? html`\n                <mwc-button @click=\"${this._handleManageButton}\">\n                  Manage\n                </mwc-button>\n              `\n            : html`\n                <paper-toggle-button\n                  @click=\"${this._enableWebhook}\"\n                ></paper-toggle-button>\n              `}\n        </div>\n      `\n    );\n  }\n\n  private _showDialog(webhookId: string) {\n    const webhook = this._localHooks!.find(\n      (ent) => ent.webhook_id === webhookId\n    )!;\n    const cloudhook = this._cloudHooks![webhookId];\n    showManageCloudhookDialog(this, {\n      webhook,\n      cloudhook,\n      disableHook: () => this._disableWebhook(webhookId),\n    });\n  }\n\n  private _handleManageButton(ev: MouseEvent) {\n    const entry = (ev.currentTarget as any).parentElement.entry as Webhook;\n    this._showDialog(entry.webhook_id);\n  }\n\n  private async _enableWebhook(ev: MouseEvent) {\n    const entry = (ev.currentTarget as any).parentElement.entry;\n    this._progress = [...this._progress, entry.webhook_id];\n    let updatedWebhook;\n\n    try {\n      updatedWebhook = await createCloudhook(this.hass!, entry.webhook_id);\n    } catch (err) {\n      alert((err as WebhookError).message);\n      return;\n    } finally {\n      this._progress = this._progress.filter((wid) => wid !== entry.webhook_id);\n    }\n\n    this._cloudHooks = {\n      ...this._cloudHooks,\n      [entry.webhook_id]: updatedWebhook,\n    };\n\n    // Only open dialog if we're not also enabling others, otherwise it's confusing\n    if (this._progress.length === 0) {\n      this._showDialog(entry.webhook_id);\n    }\n  }\n\n  private async _disableWebhook(webhookId: string) {\n    this._progress = [...this._progress, webhookId];\n    try {\n      await deleteCloudhook(this.hass!, webhookId!);\n    } catch (err) {\n      alert(`Failed to disable webhook: ${(err as WebhookError).message}`);\n      return;\n    } finally {\n      this._progress = this._progress.filter((wid) => wid !== webhookId);\n    }\n\n    // Remove cloud related parts from entry.\n    const { [webhookId]: disabledHook, ...newHooks } = this._cloudHooks!;\n    this._cloudHooks = newHooks;\n  }\n\n  private async _fetchData() {\n    this._localHooks = this.hass!.config.components.includes(\"webhook\")\n      ? await fetchWebhooks(this.hass!)\n      : [];\n  }\n\n  private renderStyle() {\n    return html`\n      <style>\n        .body-text {\n          padding: 8px 0;\n        }\n        .webhook {\n          display: flex;\n          padding: 4px 0;\n        }\n        .progress {\n          margin-right: 16px;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n        }\n        .footer {\n          padding-top: 16px;\n        }\n        .body-text a,\n        .footer a {\n          color: var(--primary-color);\n        }\n      </style>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"cloud-webhooks\": CloudWebhooks;\n  }\n}\n\ncustomElements.define(\"cloud-webhooks\", CloudWebhooks);\n","import { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { Webhook } from \"../../../../data/webhook\";\nimport { CloudWebhook } from \"../../../../data/cloud\";\n\nexport interface WebhookDialogParams {\n  webhook: Webhook;\n  cloudhook: CloudWebhook;\n  disableHook: () => void;\n}\n\nexport const showManageCloudhookDialog = (\n  element: HTMLElement,\n  webhookDialogParams: WebhookDialogParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-manage-cloudhook\",\n    dialogImport: () =>\n      import(/* webpackChunkName: \"cloud-webhook-manage-dialog\" */ \"./dialog-manage-cloudhook\"),\n    dialogParams: webhookDialogParams,\n  });\n};\n","import { HomeAssistant } from \"../types\";\n\nexport interface Webhook {\n  webhook_id: string;\n  domain: string;\n  name: string;\n}\n\nexport const fetchWebhooks = (hass: HomeAssistant): Promise<Webhook[]> =>\n  hass.callWS({\n    type: \"webhook/list\",\n  });\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  CSSResult,\n  css,\n  property,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-toggle-button/paper-toggle-button\";\n// tslint:disable-next-line\nimport { PaperToggleButtonElement } from \"@polymer/paper-toggle-button/paper-toggle-button\";\n\nimport \"../../../../components/ha-card\";\n\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { HomeAssistant } from \"../../../../types\";\nimport { CloudStatusLoggedIn, updateCloudPref } from \"../../../../data/cloud\";\nimport { syncCloudAlexaEntities } from \"../../../../data/alexa\";\n\nexport class CloudAlexaPref extends LitElement {\n  @property() public hass?: HomeAssistant;\n  @property() public cloudStatus?: CloudStatusLoggedIn;\n  @property() private _syncing = false;\n\n  protected render(): TemplateResult | void {\n    if (!this.cloudStatus) {\n      return html``;\n    }\n\n    const { alexa_enabled, alexa_report_state } = this.cloudStatus!.prefs;\n\n    return html`\n      <ha-card header=\"Alexa\">\n        <paper-toggle-button\n          .checked=${alexa_enabled}\n          @change=${this._enabledToggleChanged}\n        ></paper-toggle-button>\n        <div class=\"card-content\">\n          With the Alexa integration for Home Assistant Cloud you'll be able to\n          control all your Home Assistant devices via any Alexa-enabled device.\n          <ul>\n            <li>\n              <a\n                href=\"https://skills-store.amazon.com/deeplink/dp/B0772J1QKB?deviceType=app\"\n                target=\"_blank\"\n              >\n                Enable the Home Assistant skill for Alexa\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"https://www.nabucasa.com/config/amazon_alexa/\"\n                target=\"_blank\"\n              >\n                Config documentation\n              </a>\n            </li>\n          </ul>\n          <em\n            >This integration requires an Alexa-enabled device like the Amazon\n            Echo.</em\n          >\n          ${alexa_enabled\n            ? html`\n                <h3>Enable State Reporting</h3>\n                <p>\n                  If you enable state reporting, Home Assistant will send\n                  <b>all</b> state changes of exposed entities to Amazon. This\n                  allows you to always see the latest states in the Alexa app\n                  and use the state changes to create routines.\n                </p>\n                <paper-toggle-button\n                  .checked=${alexa_report_state}\n                  @change=${this._reportToggleChanged}\n                ></paper-toggle-button>\n              `\n            : \"\"}\n        </div>\n        <div class=\"card-actions\">\n          <mwc-button @click=${this._handleSync} .disabled=${this._syncing}>\n            Sync Entities\n          </mwc-button>\n          <div class=\"spacer\"></div>\n          <a href=\"/config/cloud/alexa\">\n            <mwc-button>Manage Entities</mwc-button>\n          </a>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private async _handleSync() {\n    this._syncing = true;\n    try {\n      await syncCloudAlexaEntities(this.hass!);\n    } catch (err) {\n      alert(`Failed to sync entities: ${err.body.message}`);\n    } finally {\n      this._syncing = false;\n    }\n  }\n\n  private async _enabledToggleChanged(ev) {\n    const toggle = ev.target as PaperToggleButtonElement;\n    try {\n      await updateCloudPref(this.hass!, { alexa_enabled: toggle.checked! });\n      fireEvent(this, \"ha-refresh-cloud-status\");\n    } catch (err) {\n      toggle.checked = !toggle.checked;\n    }\n  }\n\n  private async _reportToggleChanged(ev) {\n    const toggle = ev.target as PaperToggleButtonElement;\n    try {\n      await updateCloudPref(this.hass!, {\n        alexa_report_state: toggle.checked!,\n      });\n      fireEvent(this, \"ha-refresh-cloud-status\");\n    } catch (err) {\n      alert(\n        `Unable to ${toggle.checked ? \"enable\" : \"disable\"} report state. ${\n          err.message\n        }`\n      );\n      toggle.checked = !toggle.checked;\n    }\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      a {\n        color: var(--primary-color);\n      }\n      ha-card > paper-toggle-button {\n        margin: -4px 0;\n        position: absolute;\n        right: 8px;\n        top: 32px;\n      }\n      .card-actions {\n        display: flex;\n      }\n      .card-actions a {\n        text-decoration: none;\n      }\n      .spacer {\n        flex-grow: 1;\n      }\n      h3 {\n        margin-bottom: 0;\n      }\n      h3 + p {\n        margin-top: 0.5em;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"cloud-alexa-pref\": CloudAlexaPref;\n  }\n}\n\ncustomElements.define(\"cloud-alexa-pref\", CloudAlexaPref);\n","import {\n  html,\n  LitElement,\n  PropertyDeclarations,\n  TemplateResult,\n  CSSResult,\n  css,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-toggle-button/paper-toggle-button\";\n// tslint:disable-next-line\nimport { PaperToggleButtonElement } from \"@polymer/paper-toggle-button/paper-toggle-button\";\nimport \"../../../../components/buttons/ha-call-api-button\";\n\nimport \"../../../../components/ha-card\";\n\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { HomeAssistant } from \"../../../../types\";\nimport { CloudStatusLoggedIn, updateCloudPref } from \"../../../../data/cloud\";\nimport { PaperInputElement } from \"@polymer/paper-input/paper-input\";\n\nexport class CloudGooglePref extends LitElement {\n  public hass?: HomeAssistant;\n  public cloudStatus?: CloudStatusLoggedIn;\n\n  static get properties(): PropertyDeclarations {\n    return {\n      hass: {},\n      cloudStatus: {},\n    };\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this.cloudStatus) {\n      return html``;\n    }\n\n    const {\n      google_enabled,\n      google_secure_devices_pin,\n    } = this.cloudStatus.prefs;\n\n    return html`\n      <ha-card header=\"Google Assistant\">\n        <paper-toggle-button\n          id=\"google_enabled\"\n          .checked=\"${google_enabled}\"\n          @change=\"${this._toggleChanged}\"\n        ></paper-toggle-button>\n        <div class=\"card-content\">\n          With the Google Assistant integration for Home Assistant Cloud you'll\n          be able to control all your Home Assistant devices via any Google\n          Assistant-enabled device.\n          <ul>\n            <li>\n              <a\n                href=\"https://assistant.google.com/services/a/uid/00000091fd5fb875?hl=en-US\"\n                target=\"_blank\"\n              >\n                Activate the Home Assistant skill for Google Assistant\n              </a>\n            </li>\n            <li>\n              <a\n                href=\"https://www.nabucasa.com/config/google_assistant/\"\n                target=\"_blank\"\n              >\n                Config documentation\n              </a>\n            </li>\n          </ul>\n          <em\n            >This integration requires a Google Assistant-enabled device like\n            the Google Home or Android phone.</em\n          >\n          ${google_enabled\n            ? html`\n                <div class=\"secure_devices\">\n                  Please enter a pin to interact with security devices. Security\n                  devices are doors, garage doors and locks. You will be asked\n                  to say/enter this pin when interacting with such devices via\n                  Google Assistant.\n                  <paper-input\n                    label=\"Secure Devices Pin\"\n                    id=\"google_secure_devices_pin\"\n                    placeholder=\"Secure devices disabled\"\n                    .value=${google_secure_devices_pin || \"\"}\n                    @change=\"${this._pinChanged}\"\n                  ></paper-input>\n                </div>\n              `\n            : \"\"}\n        </div>\n        <div class=\"card-actions\">\n          <ha-call-api-button\n            .hass=\"${this.hass}\"\n            .disabled=\"${!google_enabled}\"\n            path=\"cloud/google_actions/sync\"\n          >\n            Sync entities to Google\n          </ha-call-api-button>\n          <div class=\"spacer\"></div>\n          <a href=\"/config/cloud/google-assistant\">\n            <mwc-button>Manage Entities</mwc-button>\n          </a>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private async _toggleChanged(ev) {\n    const toggle = ev.target as PaperToggleButtonElement;\n    try {\n      await updateCloudPref(this.hass!, { [toggle.id]: toggle.checked! });\n      fireEvent(this, \"ha-refresh-cloud-status\");\n    } catch (err) {\n      toggle.checked = !toggle.checked;\n    }\n  }\n\n  private async _pinChanged(ev) {\n    const input = ev.target as PaperInputElement;\n    try {\n      await updateCloudPref(this.hass!, {\n        [input.id]: input.value || null,\n      });\n      fireEvent(this, \"ha-refresh-cloud-status\");\n    } catch (err) {\n      alert(`Unable to store pin: ${err.message}`);\n      input.value = this.cloudStatus!.prefs.google_secure_devices_pin;\n    }\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      a {\n        color: var(--primary-color);\n      }\n      ha-card > paper-toggle-button {\n        margin: -4px 0;\n        position: absolute;\n        right: 8px;\n        top: 32px;\n      }\n      ha-call-api-button {\n        color: var(--primary-color);\n        font-weight: 500;\n      }\n      .secure_devices {\n        padding-top: 16px;\n      }\n      paper-input {\n        width: 200px;\n      }\n      .card-actions {\n        display: flex;\n      }\n      .card-actions a {\n        text-decoration: none;\n      }\n      .spacer {\n        flex-grow: 1;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"cloud-google-pref\": CloudGooglePref;\n  }\n}\n\ncustomElements.define(\"cloud-google-pref\", CloudGooglePref);\n","import {\n  html,\n  LitElement,\n  PropertyDeclarations,\n  TemplateResult,\n  customElement,\n  CSSResult,\n  css,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-toggle-button/paper-toggle-button\";\nimport \"@polymer/paper-item/paper-item-body\";\n// tslint:disable-next-line\nimport { PaperToggleButtonElement } from \"@polymer/paper-toggle-button/paper-toggle-button\";\n\nimport \"../../../../components/ha-card\";\n\nimport { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { HomeAssistant } from \"../../../../types\";\nimport {\n  connectCloudRemote,\n  disconnectCloudRemote,\n  CloudStatusLoggedIn,\n} from \"../../../../data/cloud\";\nimport { showCloudCertificateDialog } from \"../dialog-cloud-certificate/show-dialog-cloud-certificate\";\n\n@customElement(\"cloud-remote-pref\")\nexport class CloudRemotePref extends LitElement {\n  public hass?: HomeAssistant;\n  public cloudStatus?: CloudStatusLoggedIn;\n\n  static get properties(): PropertyDeclarations {\n    return {\n      hass: {},\n      cloudStatus: {},\n    };\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this.cloudStatus) {\n      return html``;\n    }\n\n    const {\n      remote_connected,\n      remote_domain,\n      remote_certificate,\n    } = this.cloudStatus;\n\n    if (!remote_certificate) {\n      return html`\n        <ha-card header=\"Remote Control\">\n          <div class=\"preparing\">\n            Remote access is being prepared. We will notify you when it's ready.\n          </div>\n        </ha-card>\n      `;\n    }\n\n    return html`\n      <ha-card header=\"Remote Control\">\n        <paper-toggle-button\n          .checked=\"${remote_connected}\"\n          @change=\"${this._toggleChanged}\"\n        ></paper-toggle-button>\n        <div class=\"card-content\">\n          Home Assistant Cloud provides a secure remote connection to your\n          instance while away from home. Your instance\n          ${remote_connected ? \"is\" : \"will be\"} available at\n          <a href=\"https://${remote_domain}\" target=\"_blank\">\n            https://${remote_domain}</a\n          >.\n        </div>\n        <div class=\"card-actions\">\n          <a href=\"https://www.nabucasa.com/config/remote/\" target=\"_blank\">\n            <mwc-button>Learn how it works</mwc-button>\n          </a>\n          ${remote_certificate\n            ? html`\n                <div class=\"spacer\"></div>\n                <mwc-button @click=${this._openCertInfo}>\n                  Certificate Info\n                </mwc-button>\n              `\n            : \"\"}\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private _openCertInfo() {\n    showCloudCertificateDialog(this, {\n      certificateInfo: this.cloudStatus!.remote_certificate!,\n    });\n  }\n\n  private async _toggleChanged(ev) {\n    const toggle = ev.target as PaperToggleButtonElement;\n\n    try {\n      if (toggle.checked) {\n        await connectCloudRemote(this.hass!);\n      } else {\n        await disconnectCloudRemote(this.hass!);\n      }\n      fireEvent(this, \"ha-refresh-cloud-status\");\n    } catch (err) {\n      alert(err.message);\n      toggle.checked = !toggle.checked;\n    }\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      .preparing {\n        padding: 0 16px 16px;\n      }\n      a {\n        color: var(--primary-color);\n      }\n      ha-card > paper-toggle-button {\n        margin: -4px 0;\n        position: absolute;\n        right: 8px;\n        top: 32px;\n      }\n      .card-actions {\n        display: flex;\n      }\n      .card-actions a {\n        text-decoration: none;\n      }\n      .spacer {\n        flex-grow: 1;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"cloud-remote-pref\": CloudRemotePref;\n  }\n}\n","import { fireEvent } from \"../../../../common/dom/fire_event\";\nimport { CertificateInformation } from \"../../../../data/cloud\";\n\nexport interface CloudCertificateParams {\n  certificateInfo: CertificateInformation;\n}\n\nexport const showCloudCertificateDialog = (\n  element: HTMLElement,\n  webhookDialogParams: CloudCertificateParams\n): void => {\n  fireEvent(element, \"show-dialog\", {\n    dialogTag: \"dialog-cloud-certificate\",\n    dialogImport: () =>\n      import(/* webpackChunkName: \"dialog-cloud-certificate\" */ \"./dialog-cloud-certificate\"),\n    dialogParams: webhookDialogParams,\n  });\n};\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@polymer/paper-toggle-button/paper-toggle-button\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../../components/ha-card\";\nimport \"../../../../components/buttons/ha-call-api-button\";\nimport \"../../../../layouts/hass-subpage\";\nimport \"../../../../resources/ha-style\";\n\nimport \"../../ha-config-section\";\nimport \"./cloud-webhooks\";\n\nimport formatDateTime from \"../../../../common/datetime/format_date_time\";\nimport { EventsMixin } from \"../../../../mixins/events-mixin\";\nimport LocalizeMixin from \"../../../../mixins/localize-mixin\";\nimport { fetchCloudSubscriptionInfo } from \"../../../../data/cloud\";\nimport \"./cloud-alexa-pref\";\nimport \"./cloud-google-pref\";\nimport \"./cloud-remote-pref\";\n\n/*\n * @appliesMixin EventsMixin\n * @appliesMixin LocalizeMixin\n */\nclass CloudAccount extends EventsMixin(LocalizeMixin(PolymerElement)) {\n  static get template() {\n    return html`\n      <style include=\"iron-flex ha-style\">\n        [slot=\"introduction\"] {\n          margin: -1em 0;\n        }\n        [slot=\"introduction\"] a {\n          color: var(--primary-color);\n        }\n        .content {\n          padding-bottom: 24px;\n          direction: ltr;\n        }\n        .account-row {\n          display: flex;\n          padding: 0 16px;\n        }\n        mwc-button {\n          align-self: center;\n        }\n        .soon {\n          font-style: italic;\n          margin-top: 24px;\n          text-align: center;\n        }\n        .nowrap {\n          white-space: nowrap;\n        }\n        .wrap {\n          white-space: normal;\n        }\n        .status {\n          text-transform: capitalize;\n          padding: 16px;\n        }\n        a {\n          color: var(--primary-color);\n        }\n      </style>\n      <hass-subpage header=\"Home Assistant Cloud\">\n        <div class=\"content\">\n          <ha-config-section is-wide=\"[[isWide]]\">\n            <span slot=\"header\">Home Assistant Cloud</span>\n            <div slot=\"introduction\">\n              <p>\n                Thank you for being part of Home Assistant Cloud. It's because\n                of people like you that we are able to make a great home\n                automation experience for everyone. Thank you!\n              </p>\n            </div>\n\n            <ha-card header=\"Nabu Casa Account\">\n              <div class=\"account-row\">\n                <paper-item-body two-line=\"\">\n                  [[cloudStatus.email]]\n                  <div secondary class=\"wrap\">\n                    [[_formatSubscription(_subscription)]]\n                  </div>\n                </paper-item-body>\n              </div>\n\n              <div class=\"account-row\">\n                <paper-item-body> Cloud connection status </paper-item-body>\n                <div class=\"status\">[[cloudStatus.cloud]]</div>\n              </div>\n\n              <div class=\"card-actions\">\n                <a href=\"https://account.nabucasa.com\" target=\"_blank\"\n                  ><mwc-button>Manage Account</mwc-button></a\n                >\n                <mwc-button style=\"float: right\" on-click=\"handleLogout\"\n                  >Sign out</mwc-button\n                >\n              </div>\n            </ha-card>\n          </ha-config-section>\n\n          <ha-config-section is-wide=\"[[isWide]]\">\n            <span slot=\"header\">Integrations</span>\n            <div slot=\"introduction\">\n              <p>\n                Integrations for Home Assistant Cloud allow you to connect with\n                services in the cloud without having to expose your Home\n                Assistant instance publicly on the internet.\n              </p>\n              <p>\n                Check the website for\n                <a href=\"https://www.nabucasa.com\" target=\"_blank\"\n                  >all available features</a\n                >.\n              </p>\n            </div>\n\n            <cloud-remote-pref\n              hass=\"[[hass]]\"\n              cloud-status=\"[[cloudStatus]]\"\n            ></cloud-remote-pref>\n\n            <cloud-alexa-pref\n              hass=\"[[hass]]\"\n              cloud-status=\"[[cloudStatus]]\"\n            ></cloud-alexa-pref>\n\n            <cloud-google-pref\n              hass=\"[[hass]]\"\n              cloud-status=\"[[cloudStatus]]\"\n            ></cloud-google-pref>\n\n            <cloud-webhooks\n              hass=\"[[hass]]\"\n              cloud-status=\"[[cloudStatus]]\"\n            ></cloud-webhooks>\n          </ha-config-section>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n      cloudStatus: Object,\n      _subscription: {\n        type: Object,\n        value: null,\n      },\n    };\n  }\n\n  ready() {\n    super.ready();\n    this._fetchSubscriptionInfo();\n  }\n\n  _computeRemoteConnected(connected) {\n    return connected ? \"Connected\" : \"Not Connected\";\n  }\n\n  async _fetchSubscriptionInfo() {\n    this._subscription = await fetchCloudSubscriptionInfo(this.hass);\n    if (\n      this._subscription.provider &&\n      this.cloudStatus &&\n      this.cloudStatus.cloud !== \"connected\"\n    ) {\n      this.fire(\"ha-refresh-cloud-status\");\n    }\n  }\n\n  handleLogout() {\n    this.hass\n      .callApi(\"post\", \"cloud/logout\")\n      .then(() => this.fire(\"ha-refresh-cloud-status\"));\n  }\n\n  _formatSubscription(subInfo) {\n    if (subInfo === null) {\n      return \"Fetching subscription…\";\n    }\n\n    let description = subInfo.human_description;\n\n    if (subInfo.plan_renewal_date) {\n      description = description.replace(\n        \"{periodEnd}\",\n        formatDateTime(\n          new Date(subInfo.plan_renewal_date * 1000),\n          this.hass.language\n        )\n      );\n    }\n\n    return description;\n  }\n}\n\ncustomElements.define(\"cloud-account\", CloudAccount);\n","import \"@material/mwc-button\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@polymer/paper-input/paper-input\";\nimport \"@polymer/paper-item/paper-item-body\";\nimport \"@polymer/paper-item/paper-item\";\nimport \"@polymer/paper-ripple/paper-ripple\";\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"../../../../components/ha-card\";\nimport \"../../../../components/buttons/ha-progress-button\";\nimport \"../../../../layouts/hass-subpage\";\nimport \"../../../../resources/ha-style\";\n\nimport \"../../ha-config-section\";\nimport { EventsMixin } from \"../../../../mixins/events-mixin\";\nimport NavigateMixin from \"../../../../mixins/navigate-mixin\";\nimport \"../../../../components/ha-icon-next\";\n/*\n * @appliesMixin NavigateMixin\n * @appliesMixin EventsMixin\n */\nclass CloudLogin extends NavigateMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding-bottom: 24px;\n          direction: ltr;\n        }\n        [slot=\"introduction\"] {\n          margin: -1em 0;\n        }\n        [slot=\"introduction\"] a {\n          color: var(--primary-color);\n        }\n        paper-item {\n          cursor: pointer;\n        }\n        ha-card {\n          overflow: hidden;\n        }\n        ha-card .card-header {\n          margin-bottom: -8px;\n        }\n        h1 {\n          @apply --paper-font-headline;\n          margin: 0;\n        }\n        .error {\n          color: var(--google-red-500);\n        }\n        .card-actions {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        [hidden] {\n          display: none;\n        }\n        .flash-msg {\n          padding-right: 44px;\n        }\n        .flash-msg paper-icon-button {\n          position: absolute;\n          top: 8px;\n          right: 8px;\n          color: var(--secondary-text-color);\n        }\n      </style>\n      <hass-subpage header=\"Cloud Login\">\n        <div class=\"content\">\n          <ha-config-section is-wide=\"[[isWide]]\">\n            <span slot=\"header\">Home Assistant Cloud</span>\n            <div slot=\"introduction\">\n              <p>\n                Home Assistant Cloud provides you with a secure remote\n                connection to your instance while away from home. It also allows\n                you to connect with cloud-only services: Amazon Alexa and Google\n                Assistant.\n              </p>\n              <p>\n                This service is run by our partner\n                <a href=\"https://www.nabucasa.com\" target=\"_blank\"\n                  >Nabu&nbsp;Casa,&nbsp;Inc</a\n                >, a company founded by the founders of Home Assistant and\n                Hass.io.\n              </p>\n              <p>\n                Home Assistant Cloud is a subscription service with a free one\n                month trial. No payment information necessary.\n              </p>\n              <p>\n                <a href=\"https://www.nabucasa.com\" target=\"_blank\"\n                  >Learn more about Home Assistant Cloud</a\n                >\n              </p>\n            </div>\n\n            <ha-card hidden$=\"[[!flashMessage]]\">\n              <div class=\"card-content flash-msg\">\n                [[flashMessage]]\n                <paper-icon-button icon=\"hass:close\" on-click=\"_dismissFlash\"\n                  >Dismiss</paper-icon-button\n                >\n                <paper-ripple id=\"flashRipple\" noink=\"\"></paper-ripple>\n              </div>\n            </ha-card>\n\n            <ha-card header=\"Sign in\">\n              <div class=\"card-content\">\n                <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n                <paper-input\n                  label=\"Email\"\n                  id=\"email\"\n                  type=\"email\"\n                  value=\"{{email}}\"\n                  on-keydown=\"_keyDown\"\n                  error-message=\"Invalid email\"\n                ></paper-input>\n                <paper-input\n                  id=\"password\"\n                  label=\"Password\"\n                  value=\"{{_password}}\"\n                  type=\"password\"\n                  on-keydown=\"_keyDown\"\n                  error-message=\"Passwords are at least 8 characters\"\n                ></paper-input>\n              </div>\n              <div class=\"card-actions\">\n                <ha-progress-button\n                  on-click=\"_handleLogin\"\n                  progress=\"[[_requestInProgress]]\"\n                  >Sign in</ha-progress-button\n                >\n                <button\n                  class=\"link\"\n                  hidden=\"[[_requestInProgress]]\"\n                  on-click=\"_handleForgotPassword\"\n                >\n                  forgot password?\n                </button>\n              </div>\n            </ha-card>\n\n            <ha-card>\n              <paper-item on-click=\"_handleRegister\">\n                <paper-item-body two-line=\"\">\n                  Start your free 1 month trial\n                  <div secondary=\"\">No payment information necessary</div>\n                </paper-item-body>\n                <ha-icon-next></ha-icon-next>\n              </paper-item>\n            </ha-card>\n          </ha-config-section>\n        </div>\n      </hass-subpage>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n      email: {\n        type: String,\n        notify: true,\n      },\n      _password: {\n        type: String,\n        value: \"\",\n      },\n      _requestInProgress: {\n        type: Boolean,\n        value: false,\n      },\n      flashMessage: {\n        type: String,\n        notify: true,\n      },\n      _error: String,\n    };\n  }\n\n  static get observers() {\n    return [\"_inputChanged(email, _password)\"];\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (this.flashMessage) {\n      // Wait for DOM to be drawn\n      requestAnimationFrame(() =>\n        requestAnimationFrame(() => this.$.flashRipple.simulatedRipple())\n      );\n    }\n  }\n\n  _inputChanged() {\n    this.$.email.invalid = false;\n    this.$.password.invalid = false;\n    this._error = false;\n  }\n\n  _keyDown(ev) {\n    // validate on enter\n    if (ev.keyCode === 13) {\n      this._handleLogin();\n      ev.preventDefault();\n    }\n  }\n\n  _handleLogin() {\n    let invalid = false;\n\n    if (!this.email || !this.email.includes(\"@\")) {\n      this.$.email.invalid = true;\n      this.$.email.focus();\n      invalid = true;\n    }\n\n    if (this._password.length < 8) {\n      this.$.password.invalid = true;\n\n      if (!invalid) {\n        invalid = true;\n        this.$.password.focus();\n      }\n    }\n\n    if (invalid) return;\n\n    this._requestInProgress = true;\n\n    this.hass\n      .callApi(\"post\", \"cloud/login\", {\n        email: this.email,\n        password: this._password,\n      })\n      .then(\n        () => {\n          this.fire(\"ha-refresh-cloud-status\");\n          this.setProperties({\n            email: \"\",\n            _password: \"\",\n          });\n        },\n        (err) => {\n          // Do this before setProperties because changing it clears errors.\n          this._password = \"\";\n\n          const errCode = err && err.body && err.body.code;\n          if (errCode === \"PasswordChangeRequired\") {\n            alert(\"You need to change your password before logging in.\");\n            this.navigate(\"/config/cloud/forgot-password\");\n            return;\n          }\n\n          const props = {\n            _requestInProgress: false,\n            _error:\n              err && err.body && err.body.message\n                ? err.body.message\n                : \"Unknown error\",\n          };\n\n          if (errCode === \"UserNotConfirmed\") {\n            props._error = \"You need to confirm your email before logging in.\";\n          }\n\n          this.setProperties(props);\n          this.$.email.focus();\n        }\n      );\n  }\n\n  _handleRegister() {\n    this.flashMessage = \"\";\n    this.navigate(\"/config/cloud/register\");\n  }\n\n  _handleForgotPassword() {\n    this.flashMessage = \"\";\n    this.navigate(\"/config/cloud/forgot-password\");\n  }\n\n  _dismissFlash() {\n    // give some time to let the ripple finish.\n    setTimeout(() => {\n      this.flashMessage = \"\";\n    }, 200);\n  }\n}\n\ncustomElements.define(\"cloud-login\", CloudLogin);\n","import \"./account/cloud-account\";\nimport \"./login/cloud-login\";\nimport {\n  HassRouterPage,\n  RouterOptions,\n} from \"../../../layouts/hass-router-page\";\nimport { property, customElement } from \"lit-element\";\nimport { HomeAssistant, Route } from \"../../../types\";\nimport { navigate } from \"../../../common/navigate\";\nimport { CloudStatus } from \"../../../data/cloud\";\nimport { PolymerChangedEvent } from \"../../../polymer-types\";\nimport { PolymerElement } from \"@polymer/polymer\";\n\nconst LOGGED_IN_URLS = [\"account\", \"google-assistant\", \"alexa\"];\nconst NOT_LOGGED_IN_URLS = [\"login\", \"register\", \"forgot-password\"];\n\n@customElement(\"ha-config-cloud\")\nclass HaConfigCloud extends HassRouterPage {\n  @property() public hass!: HomeAssistant;\n  @property() public isWide!: boolean;\n  @property() public narrow!: boolean;\n  @property() public route!: Route;\n  @property() public cloudStatus!: CloudStatus;\n\n  protected routerOptions: RouterOptions = {\n    defaultPage: \"login\",\n    showLoading: true,\n    initialLoad: () => this._cloudStatusLoaded,\n    // Guard the different pages based on if we're logged in.\n    beforeRender: (page: string) => {\n      if (this.cloudStatus.logged_in) {\n        if (!LOGGED_IN_URLS.includes(page)) {\n          return \"account\";\n        }\n      } else {\n        if (!NOT_LOGGED_IN_URLS.includes(page)) {\n          return \"login\";\n        }\n      }\n      return undefined;\n    },\n    routes: {\n      login: {\n        tag: \"cloud-login\",\n      },\n      register: {\n        tag: \"cloud-register\",\n        load: () =>\n          import(/* webpackChunkName: \"cloud-register\" */ \"./register/cloud-register\"),\n      },\n      \"forgot-password\": {\n        tag: \"cloud-forgot-password\",\n        load: () =>\n          import(/* webpackChunkName: \"cloud-forgot-password\" */ \"./forgot-password/cloud-forgot-password\"),\n      },\n      account: {\n        tag: \"cloud-account\",\n      },\n      \"google-assistant\": {\n        tag: \"cloud-google-assistant\",\n        load: () =>\n          import(/* webpackChunkName: \"cloud-google-assistant\" */ \"./google-assistant/cloud-google-assistant\"),\n      },\n      alexa: {\n        tag: \"cloud-alexa\",\n        load: () =>\n          import(/* webpackChunkName: \"cloud-alexa\" */ \"./alexa/cloud-alexa\"),\n      },\n    },\n  };\n\n  @property() private _flashMessage = \"\";\n  @property() private _loginEmail = \"\";\n  private _resolveCloudStatusLoaded!: () => void;\n  private _cloudStatusLoaded = new Promise((resolve) => {\n    this._resolveCloudStatusLoaded = resolve;\n  });\n\n  protected firstUpdated(changedProps) {\n    super.firstUpdated(changedProps);\n    this.addEventListener(\"cloud-done\", (ev) => {\n      this._flashMessage = (ev as any).detail.flashMessage;\n      navigate(this, \"/config/cloud/login\");\n    });\n  }\n\n  protected updated(changedProps) {\n    super.updated(changedProps);\n\n    if (changedProps.has(\"cloudStatus\")) {\n      const oldStatus = changedProps.get(\"cloudStatus\") as\n        | CloudStatus\n        | undefined;\n      if (oldStatus === undefined) {\n        this._resolveCloudStatusLoaded();\n      } else if (oldStatus.logged_in !== this.cloudStatus.logged_in) {\n        navigate(this, this.route.prefix, true);\n      }\n    }\n  }\n\n  protected createElement(tag: string) {\n    const el = super.createElement(tag);\n    el.addEventListener(\"email-changed\", (ev) => {\n      this._loginEmail = (ev as PolymerChangedEvent<string>).detail.value;\n    });\n    el.addEventListener(\"flash-message-changed\", (ev) => {\n      this._flashMessage = (ev as PolymerChangedEvent<string>).detail.value;\n    });\n    return el;\n  }\n\n  protected updatePageEl(el) {\n    // We are not going to update if the current page if we are not logged in\n    // and the current page requires being logged in. Happens when we log out.\n    if (\n      this.cloudStatus &&\n      !this.cloudStatus.logged_in &&\n      LOGGED_IN_URLS.includes(this._currentPage)\n    ) {\n      return;\n    }\n\n    if (\"setProperties\" in el) {\n      // As long as we have Polymer pages\n      (el as PolymerElement).setProperties({\n        hass: this.hass,\n        email: this._loginEmail,\n        isWide: this.isWide,\n        cloudStatus: this.cloudStatus,\n        flashMessage: this._flashMessage,\n      });\n    } else {\n      el.hass = this.hass;\n      el.email = this._loginEmail;\n      el.isWide = this.isWide;\n      el.narrow = this.narrow;\n      el.cloudStatus = this.cloudStatus;\n      el.flashMessage = this._flashMessage;\n    }\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-config-cloud\": HaConfigCloud;\n  }\n}\n"],"sourceRoot":""}